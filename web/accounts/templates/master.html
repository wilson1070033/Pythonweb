{% load static  %}
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>{% block title %}{% endblock %}</title>

    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,400;0,700;1,200&family=Unbounded:wght@400;700&display=swap" rel="stylesheet">
    <link href='{% static "css/bootstrap.min.css" %}' rel="stylesheet">
    <link href='{% static "css/bootstrap-icons.css" %}' rel="stylesheet">
    <link href='{% static "css/tooplate-kool-form-pack.css" %}' rel="stylesheet">

    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>

    </head>

    <body>

        <main>

            <header class="site-header">
                <div class="container">
                    <div class="row justify-content-between">

                        <div class="col-lg-12 col-12 d-flex">
                            <a class="site-header-text d-flex justify-content-center align-items-center me-auto" href="index.html">
                                <i class="bi-box"></i>

                                <span>
                                    Kool Form Pack
                                </span>
                            </a>

                            <ul class="social-icon d-flex justify-content-center align-items-center mx-auto">
                                <span class="text-white me-4 d-none d-lg-block">Stay connected</span>

                                <li class="social-icon-item">
                                    <a href="#" class="social-icon-link bi-instagram"></a>
                                </li>

                                <li class="social-icon-item">
                                    <a href="#" class="social-icon-link bi-twitter"></a>
                                </li>

                                <li class="social-icon-item">
                                    <a href="#" class="social-icon-link bi-whatsapp"></a>
                                </li>
                            </ul>

                            <div>
                                <a href="#" class="custom-btn custom-border-btn btn" data-bs-toggle="modal" data-bs-target="#subscribeModal">Notify me
                                    <i class="bi-arrow-right ms-2"></i>
                                </a>
                            </div>

                            <a class="bi-list offcanvas-icon" data-bs-toggle="offcanvas" href="#offcanvasMenu" role="button" aria-controls="offcanvasMenu"></a>

                        </div>

                    </div>
                </div>
            </header>


            <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">                
                <div class="offcanvas-header">                    
                    <button type="button" class="btn-close ms-auto" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                
                <div class="offcanvas-body d-flex flex-column justify-content-center align-items-center">
                    <nav>
                        <ul>
                            {% if user.is_authenticated %}
                                <li>
                                   <a>User: {{ User.get_username }}</a>
                                </li>
                                <li>
                                    <form method="post"  action="{% url 'logged_out' %}">
                                        {% csrf_token %}
                                        <button type="submit" class="form-control">Logout</button>
                                    </form>
                                </li>
                            {% else %}
                                <li>
                                    <a href="{% url 'login' %}">Login Form</a>
                                </li>
                            {% endif %}
                            <li>
                                <a class="active" href="{% url 'signup' %}">Create an account</a>
                            </li>

                            <li>
                                <a href="{% url 'password_reset' %}">Password Reset</a>
                            </li>

                            <li>
                                <a href="{% url '404' %}">404 Page</a>
                            </li>

                            <li>
                                <a>Contact : 0966036127</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>


            <!-- Modal -->
            <div class="modal fade" id="subscribeModal" tabindex="-1" aria-labelledby="subscribeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-body">
                            <form action="#" method="get" class="custom-form mt-lg-4 mt-2" role="form">
                                <h2 class="modal-title" id="subscribeModalLabel">Stay up to date</h2>

                                <input type="email" name="email" id="email" pattern="[^ @]*@[^ @]*" class="form-control" placeholder="your@email.com" required="">

                                <button type="submit" class="form-control">Notify</button>
                            </form>
                        </div>

                        <div class="modal-footer justify-content-center">
                            <p>By signing up, you agree to our Privacy Notice</p>
                        </div>
                    </div>
                </div>
            </div>

            

            <section class="hero-section d-flex justify-content-center align-items-center">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-12 mx-auto">
                            <form class="custom-form" role="form" method="post" onsubmit="return false;" action="">

                                <h2 class="hero-title text-center mb-4 pb-2">Talk Something</h2>
                            
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <div class="form-floating">
                                                <input type="text" name="username" id="username" class="form-control" placeholder="Full Name" required="">
                                                                        
                                                <label for="username">User name</label>
                                            </div>
                                        </div>
                            
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <div class="form-floating mb-4 p-0">
                                                <input type="useremail" name="useremail" id="useremail"  class="form-control" placeholder="useremail" required="">
                            
                                                <label for="useremail">Email</label>
                                            </div>
                                        </div>
                            
                                        <div class="col-lg-12 col-12">
                                            <div class="form-floating p-0">
                                                <input type="text" name="feedback" id="feedback" class="form-control" placeholder="Password2" ROWS="8" COLS="80" required="">
                            
                                                <label for="feedback">talk</label>
                                            </div>
                                        </div>
                            
                                        <div class="row justify-content-center align-items-center">
                                            <div class="col-lg-5 col-md-5 col-5 ms-auto">
                                                <button type="submit" class="form-control" style="text-align: center" onclick="processFormData(); addMsg()">Submit</button>
                                            </div>
                                        </div>
                                        <hr>
                                        <br>
                                        <CAPTION>
                                        <h2 style="color: aliceblue;"><strong>我的歷史紀錄</strong></h2>
                                        </CAPTION>
                                        <br>
                                        <table width="800px" align="center" id='Feedback_table'>
                                            <tr style="color: aliceblue;">
                                            <th width="25%" style="color: aliceblue;">留言時間</th>
                                            <th width="15%" style="color: aliceblue;">姓名</th>
                                            <th width="20%" style="color: aliceblue;">email</th>
                                            <th width="30%" style="color: aliceblue;">意見內容</th>
                                            <th width="10%" style="color: aliceblue;"></th>
                                            </tr>
                                        </table>
                                        <script>
                                            var nameElement = document.getElementById("username");
                                            var emailElement = document.getElementById("useremail");
                                            var feedbackElement = document.getElementById("feedback");
                                            function processFormData() {
                                            const name = nameElement.value;
                                            const email = emailElement.value;
                                            alert("謝謝" + name + "的回饋，我們將再用email:" + email + "與您聯繫!");
                                            }
                                            function addMsg() {
                                            // 獲取table標籤元素
                                            let table = document.getElementById("Feedback_table");
                                            // 建立新行
                                            let newRow = table.insertRow();
                                            // 建立三個新單元格 向表格中插入元素
                                            newRow.insertCell().innerHTML = new Date().toLocaleString();
                                            newRow.insertCell().innerHTML = nameElement.value;
                                            newRow.insertCell().innerHTML = emailElement.value;
                                            newRow.insertCell().innerHTML = feedbackElement.value;
                                            newRow.insertCell().innerHTML = '<button type="button" class="form-control" onclick="delRow(this)">Delete</button>'
                                            nameElement.value = '';
                                            emailElement.value = '';
                                            feedbackElement.value = '';
                                            }
                                            function delRow(r) {
                                            // 指定i=r(this)的父層+父層
                                            var i = r.parentNode.parentNode.rowIndex;
                                            // 刪除指定階層
                                            document.getElementById("Feedback_table").deleteRow(i);
                                            alert("謝謝您的回饋，我們已將資訊刪除!");
                                            }
                                        </script>
                                        <style>
                                            td {
                                                color: white;
                                                }
                                        </style>
                                    </div>
                            </form>
                        </div>
                    </div>

                </div>
                


                <div class="video-wrap">
                    <video autoplay="" loop="" muted="" class="custom-video" poster="">
                        <source src='{% static "videos/video.mp4" %}' type="video/mp4">

                        Your browser does not support the video tag.
                    </video>
                </div>
            </section>
        </main>

        <!-- JAVASCRIPT FILES -->
        <script src='{% static "js/jquery.min.js" %}'></script>
        <script src='{% static "js/bootstrap.bundle.min.js" %}'></script>
        <script src='{% static "js/countdown.js" %}'></script>
        <script src='{% static "js/init.js" %}'></script>

    </body>

</html>
